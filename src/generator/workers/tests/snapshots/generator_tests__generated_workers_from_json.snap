---
source: workers/tests/generator_tests.rs
expression: res
---
import { cloesce } from "cloesce";
import cidl from "./cidl.json" with { type: "json" };
import { Horse } from "./Users/benjaminschreiber/projects/cloesce/src/e2e/src/models/models.cloesce";
import { Like } from "./Users/benjaminschreiber/projects/cloesce/src/e2e/src/models/models.cloesce";

const constructorRegistry = {
	Horse: Horse,
	Like: Like
};

export default {
    async fetch(request: Request, env: any, ctx: any): Promise<Response> {
        const instanceRegistry = new Map([
            ["Env", env]
        ]);

        return await cloesce(cidl, constructorRegistry, instanceRegistry, request, "/api", { envName: "Env", dbName: "DB" });
    }
};
